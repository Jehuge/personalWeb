@import "tailwindcss";

@theme {
  --color-primary-50: #f0f9ff;
  --color-primary-100: #e0f2fe;
  --color-primary-500: #0ea5e9;
  --color-primary-600: #0284c7;
  --color-primary-900: #0c4a6e;

  --color-accent-500: #06b6d4;
  --color-accent-600: #0891b2;

  --color-cyber-dark: #020617;
  --color-cyber-panel: #0f172a;
  --color-cyber-accent: #06b6d4;
  --color-cyber-glow: #06b6d4;

  --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-display: 'Space Grotesk', sans-serif;

  --animate-fade-in: fadeIn 0.5s ease-out;
  --animate-slide-up: slideUp 0.6s ease-out;
  --animate-float: float 6s ease-in-out infinite;
  --animate-orbital: orbital 60s linear infinite;
  --animate-blob: blob 24s ease-in-out infinite;
  --animate-scan: scan 14s linear infinite;
  --animate-pulse-slow: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;

  @keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }

  @keyframes slideUp {
    0% { transform: translateY(20px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  @keyframes orbital {
    0% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(180deg) scale(1.05); }
    100% { transform: rotate(360deg) scale(1); }
  }

  @keyframes blob {
    0% { transform: translate3d(0,0,0) scale(1); }
    33% { transform: translate3d(5%, -2%, 0) scale(1.05); }
    66% { transform: translate3d(-3%, 2%, 0) scale(0.98); }
    100% { transform: translate3d(0,0,0) scale(1); }
  }

  @keyframes scan {
    0% { transform: translateX(-100%); opacity: 0; }
    10% { opacity: 0.25; }
    50% { opacity: 0.6; }
    100% { transform: translateX(100%); opacity: 0; }
  }
}

/* 全局深色模式重新设计：
   - 统一卡片与面板背景
   - 提升文字对比度
   - 让没有显式 dark: 类的区域在深色下也更协调 */
@layer utilities {
  /* 顶部导航蒙版，避免被其他 bg 类覆盖 */
  .site-navbar {
    background: rgba(226, 232, 240, 0.6) !important; /* slate-200/60 */
    backdrop-filter: blur(20px) saturate(1.5) !important;
    -webkit-backdrop-filter: blur(20px) saturate(1.5) !important;
    box-shadow: none;
    border: none;
  }

  .dark .site-navbar {
    background: rgba(3, 7, 18, 0.72) !important; /* slate-950 with transparency */
    backdrop-filter: blur(20px) saturate(1.5) !important;
    -webkit-backdrop-filter: blur(20px) saturate(1.5) !important;
    box-shadow: none;
    border: none;
  }

  /* 统一的标签样式，兼顾浅/深色 */
  .pill-tag {
    display: inline-flex;
    align-items: center;
    font-family: var(--font-mono, 'SFMono-Regular', ui-monospace, SFMono-Regular, 'SFMono-Regular', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace);
    font-size: 12px;
    line-height: 1.1;
    padding: 4px 8px;
    border-radius: 9999px;
    color: #075985; /* primary-700 */
    background: #eff6ff; /* primary-50 */
    border: 1px solid #dbeafe; /* primary-100 */
  }

  .dark .pill-tag {
    color: #e0f2ff; /* primary-100 */
    background: rgba(14, 165, 233, 0.14); /* primary-500 with transparency */
    border-color: rgba(14, 165, 233, 0.3);
  }

  .btn-github {
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border: none;
    border-radius: 999px;
    font-weight: 800;
    font-size: 0.825rem;
    line-height: 1rem;
    background-color: rgba(0, 0, 0, 0.75);
    color: #fff;
    text-decoration: none;
    justify-content: center;
    box-shadow:
      inset 0 1px 0 0 rgba(255, 255, 255, 0.04),
      inset 0 0 0 1px rgba(255, 255, 255, 0.04);
    transition: all 0.35s cubic-bezier(0.165, 0.84, 0.44, 1);
  }

  .btn-github:hover {
    color: #fce803;
    transform: translateY(-0.25rem);
    background-color: rgba(0, 0, 0, 0.5);
    box-shadow:
      inset 0 1px 0 0 rgba(255, 255, 255, 0.08),
      inset 0 0 0 1px rgba(252, 232, 3, 0.08);
  }

  .dark .btn-github {
    background-color: rgba(255, 255, 255, 0.9);
    color: #0b1120;
    box-shadow:
      inset 0 1px 0 0 rgba(0, 0, 0, 0.08),
      inset 0 0 0 1px rgba(0, 0, 0, 0.08);
  }

  .dark .btn-github:hover {
    color: #111827;
    background-color: #ffffff;
    box-shadow:
      inset 0 1px 0 0 rgba(0, 0, 0, 0.12),
      inset 0 0 0 1px rgba(0, 0, 0, 0.12);
  }

  /* 面板 / 卡片背景统一为深色面板，而不是纯白 */
  .dark .bg-white,
  .dark .bg-slate-50,
  .dark .bg-slate-100,
  .dark .bg-gray-50,
  .dark .bg-gray-100 {
    background-color: color-mix(in srgb, var(--color-cyber-panel) 88%, black 12%);
  }

  /* 常见边框颜色在深色下偏亮一些，避免太“脏” */
  .dark .border-gray-100,
  .dark .border-gray-200,
  .dark .border-slate-100,
  .dark .border-slate-200 {
    border-color: rgba(148, 163, 184, 0.4);
  }

  /* 文字颜色更清晰 */
  .dark .text-gray-900,
  .dark .text-slate-900 {
    color: #e5e7eb;
  }

  .dark .text-gray-700,
  .dark .text-slate-700 {
    color: #cbd5f5;
  }

  .dark .text-gray-600,
  .dark .text-slate-600 {
    color: #9ca3af;
  }

  /* 默认 body / 根容器的背景用统一深色 */
  html.dark body,
  html.dark .app-background {
    background-color: var(--color-cyber-dark);
  }

  /* 确保所有元素在深色模式下都能正确应用样式 */
  html.dark {
    color-scheme: dark;
  }

  /* 移动端深色模式优化 - 确保根元素和主要容器正确应用深色 */
  @media (max-width: 768px) {
    html.dark {
      background-color: var(--color-cyber-dark);
    }
    
    html.dark body {
      background-color: var(--color-cyber-dark);
      color: #e5e7eb;
    }
    
    /* 确保主要容器在移动端也能正确应用深色 */
    html.dark .app-background {
      background-color: var(--color-cyber-dark);
    }
    
    /* 修复移动端可能出现的白色背景元素 */
    html.dark .bg-white,
    html.dark .bg-slate-50,
    html.dark .bg-slate-100,
    html.dark .bg-gray-50,
    html.dark .bg-gray-100 {
      background-color: color-mix(in srgb, var(--color-cyber-panel) 88%, black 12%);
    }
    
    /* 修复移动端菜单渐变背景在深色模式下的问题 - 强制使用纯色背景 */
    html.dark .bg-gradient-to-br.from-slate-50.via-slate-100.to-slate-50 {
      background: rgb(15, 23, 42) !important;
      background-image: none !important;
    }
  }

  /* 博客卡片在深色下的统一样式 */
  .dark .blog-card {
    background-color: rgba(15, 23, 42, 0.96);
    border-color: rgba(148, 163, 184, 0.45);
  }

  /* 摄影卡片在深色下的统一样式 */
  .dark .photo-card {
    background-color: rgba(15, 23, 42, 0.98);
    border-radius: 1rem;
  }

  /* AI Demo 卡片在深色下统一成深色玻璃质感 */
  .dark .ai-demo-card {
    background-color: rgba(15, 23, 42, 0.96);
    border-color: rgba(148, 163, 184, 0.45);
  }
}
